// Set RNA-seq specific parameters

// Is your data single or paired-end
params.pairedEnd = false

// Path to basename of HISAT2 index
params.index_basename = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/ref/ensembl_109/mouse/fastq/mm39"

// Path to the folder containing fastq files
params.input_dir = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/2024/li/nextflow/demo/fastq"

// Path to your project folder containg the fastq file folder
params.project_dir = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/2024/li/nextflow/demo"

// Path to your GTF file
params.gtf_file = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/ref/ensembl_109/mouse/Mus_musculus.GRCm39.109.gtf"

// Path to your multiqc configuration file
params.multiqc_config = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/NGS-Data-Charmer/multiqc_config_template.yaml"

// Set count_unique to true if you want to assign unique read counts to features
// Set count_fraction to true if you want to assign fractional counts to features 
// Counting scheme for featureCounts to use. Set both to false if you prefer to count all reads for each feature
params.count_unique = true
params.count_fraction = false

// Singularity specific parameters (set to true if you want to run the pipeline on minerva)
singularity.enabled = true

// cacheDir: directory in which you want to store the singularity images
// runOptions: Bind the directories in which you have the multiqc config file and gtf/index files
singularity {
    cacheDir = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/singularity_cache"
    runOptions = '--bind /sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/NGS-Data-Charmer/:/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/NGS-Data-Charmer --bind /sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/ref/ensembl_109/mouse/:/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/ref/ensembl_109/mouse'
}


// You may want to increase the process.time parameter for each job
profiles {

    local {
        process.executor = 'local'
        process.cpus = 4
    }

    minerva {
        process.executor = 'LSF'
        process.queue = 'premium'
        process.memory = '16 GB'
        process.time = '30 min'
        process.cpus = 1
        process.clusterOptions = " -P acc_Nestlerlab "

        withName: 'ALIGNMENT_STEP' {
            memory = '32 GB'
        }

        
}
}

// You may not need to modify the following

process {
    
    container = 'nfcore/rnaseq:1.4.2'

    withName: FASTQC {
        container = 'staphb/fastqc'
    }

    withName: READ_TRIM_GALORE {
        container = 'dukegcb/trim-galore'
    }

    withName: ALIGNMENT_STEP {
        container = 'aarthir239/hisat2'
    }

    withName: SORTED_BAM_STEP {
        container = 'biocontainers/samtools:v1.9-4-deb_cv1'
    }

    withName: COUNTS_STEP {
        container = 'thatdnaguy/featurecounts:v2.0.6_02'
    }

    withName: COUNTS_MATRIX {
        container = 'biocontainers/pandas:1.5.1_cv1'
    }

    withName: MULTIQC_STEP {
        container = 'multiqc/multiqc'
    }
}
