params.index_basename = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/ref/ensembl_109/mouse/fastq/mm39"
params.input_dir = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/2024/li/nextflow/demo/fastq"
params.gtf_file = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/ref/ensembl_109/mouse/Mus_musculus.GRCm39.109.gtf"
params.pairedEnd = true
params.project_dir = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/2024/li/nextflow/demo"
params.multiqc_config = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/NGS-Data-Charmer/multiqc_config_template.yaml"

// Counting scheme for featureCounts to use. Set both to false if you prefer to count all reads
params.count_unique = true
params.count_fraction = false

// Enable Singularity. Set default docker image
process {
    
    container = 'nfcore/rnaseq:1.4.2'

    withName: FASTQC {
        container = 'staphb/fastqc'
    }

    withName: READ_TRIM_GALORE {
        container = 'dukegcb/trim-galore'
    }

    withName: ALIGNMENT_STEP {
        container = 'aarthir239/hisat2'
    }

    withName: SORTED_BAM_STEP {
        container = 'biocontainers/samtools:v1.9-4-deb_cv1'
    }

    withName: COUNTS_STEP {
        container = 'thatdnaguy/featurecounts:v2.0.6_02'
    }

    withName: COUNTS_MATRIX {
        container = 'biocontainers/pandas:1.5.1_cv1'
    }

    withName: MULTIQC_STEP {
        container = 'multiqc/multiqc'
    }
}


profiles {

    local {
        process.executor = 'local'
        process.cpus = 4
    }

    minerva {
        process.executor = 'LSF'
        process.queue = 'premium'
        process.memory = '16 GB'
        process.time = '5 min'
        process.cpus = 1
        process.clusterOptions = " -P acc_Nestlerlab "

        withName: 'ALIGNMENT_STEP' {
            memory = '32 GB'
        }

        
}
}

// Singularity specific parameters
singularity.enabled = true

singularity {
    cacheDir = "/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/singularity_cache"
    runOptions = '--bind /sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/NGS-Data-Charmer/:/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/NGS-Data-Charmer --bind /sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/ref/ensembl_109/mouse/:/sc/arion/projects/Nestlerlab/shenl03_rna/aarthi/ref/ensembl_109/mouse'
}


